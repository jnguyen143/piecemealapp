<!DOCTYPE html>
<html>

<head>
    <title>PieceMeal</title>
    <link rel="stylesheet" type="text/css" href='../static/style.css'>
</head>

<body>

    <div class="left-container">

        <img class="logo" src="../static/logo.png" />

        <div>Hi, {{userdata['name']}}</div>
        <div>Email: {{userdata['email']}}</div>
        <a href="/logout">Log Out</a>
        <button type="button" onclick="deleteUser()">Delete Account</button>
        <a href="/account">My Account</a>

        <script>
            function deleteUser() {
                fetch("/api/delete-user", { method: "POST" })
                    .then(response => response.json()).then(value => {
                        if (value.result == 0) {
                            window.location.href = "/";
                        } else {
                            alert("Error deleting user");
                        }
                    }).catch(err => {
                        alert("Error deleting user");
                    });
            }
        </script>

        <form class="ingredients" action="/search_ingredients" method="POST">
            <p>Search for Ingredients</p>
            <input type="text" placeholder="Peanut Butter, Jelly..." />
            <div class="filters">
                <p>Filter by:</p>
                <input type="button" class="filter-button" value="Cuisine" />
                <input type="button" class="filter-button" value="Alergies" />
            </div>
            <button type="submit">Search</button>
        </form>

        <form class="recipes" action="/search_recipes" method="POST">
            <p>Search for Recipes</p>
            <input type="text" placeholder="Filet mignon..." />
            <button type="submit">Search</button>
        </form>

        <div class="account">
            <a href="/login">Login</a>
            <a href="/signup">Signup</a>
        </div>
    </div>

    <div class="right-container">
        <h1>Welcome</h1>
        <p>Rediscover your appetite by signing up and exploring our more than 1,000,000+ recipes</p>
        <p>Here goes the search results or dummy data for main page</p>

        <div class="recipe">
            <div class="image">
                <img src="../static/temp_ingredient.jpg" style="width: 100px; height: 100px;" />
            </div>
            <div class="description">
                <h2>Butter</h2>
                <p>Small recipe description goes here</p>
            </div>
        </div>

        <div class="recipe">
            <div class="image">
                <img src="../static/temp_recipe.jpg" style="width: 100px; height: 100px;" />
            </div>
            <div class="description">
                <h2>Sushi</h2>
                <p>Small recipe description goes here</p>
            </div>
        </div>

    </div>

</body>

</html>